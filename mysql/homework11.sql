/*
1
Создайте таблицу logs типа Archive. Пусть при каждом создании записи 
в таблицах users, catalogs и products в таблицу logs помещается время 
и дата создания записи, название таблицы, идентификатор первичного ключа 
и содержимое поля name.
*/

DELIMITER //

DROP TABLE IF EXISTS logs//

CREATE TABLE logs (
	name VARCHAR(255),
	id INT,
	content VARCHAR(255),
	created_at DATETIME DEFAULT CURRENT_TIMESTAMP
) ENGINE=Archive//

DROP TRIGGER IF EXISTS update_users_logs//

CREATE TRIGGER update_users_logs AFTER INSERT ON users
FOR EACH ROW BEGIN
	INSERT INTO logs (name, id, content) VALUES ('users', NEW.id, NEW.name);
END//

DROP TRIGGER IF EXISTS update_catalogs_logs//

CREATE TRIGGER update_catalogs_logs AFTER INSERT ON catalogs
FOR EACH ROW BEGIN
	INSERT INTO logs (name, id, content) VALUES ('catalogs', NEW.id, NEW.name);
END//

DROP TRIGGER IF EXISTS update_products_logs//

CREATE TRIGGER update_products_logs AFTER INSERT ON products
FOR EACH ROW BEGIN
	INSERT INTO logs (name, id, content) VALUES ('products', NEW.id, NEW.name);
END//

DELIMITER ;

/*
2
Создайте SQL-запрос, который помещает в таблицу users миллион записей.
*/

CREATE TABLE users_double (
  name VARCHAR(255) COMMENT 'Имя покупателя',
  birthday_at DATE COMMENT 'Дата рождения',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) COMMENT = 'Покупатели';

# генератором создала
INSERT INTO users_double VALUES
('Richard','2014-06-19','1998-08-25 08:50:09','2016-07-26 20:30:43'),
('Bennie','1985-01-07','1991-06-10 19:25:06','2022-01-29 08:03:34'),
('Macy','1990-05-23','1956-11-16 01:54:47','2014-12-30 23:33:32'),
('Jadyn','2013-04-04','1933-10-10 22:49:53','2021-12-22 13:36:20'),
('Cleo','2001-03-11','1970-04-03 22:05:38','2014-09-27 04:45:31'),
('Leland','2022-08-17','1942-05-04 23:18:39','2018-02-15 10:43:23'),
('Keon','2023-05-15','1974-07-05 12:32:52','2015-09-25 04:58:50'),
('Chasity','1978-12-22','1943-02-24 00:50:43','2016-10-29 10:27:19'),
('Zackary','1992-02-29','1972-03-24 08:19:28','2016-09-26 15:05:49'),
('Adrianna','1973-06-20','2013-10-25 19:12:29','2017-10-19 16:23:57'),
('Name','1993-02-28','1964-07-27 18:46:39','2014-06-27 07:18:29'),
('Hailie','1984-04-08','1985-01-03 02:59:06','2019-07-20 21:32:14'),
('Emile','1987-06-11','1926-09-25 01:11:08','2020-07-22 17:24:34'),
('Rogers','1998-10-29','1933-07-25 20:58:36','2022-01-26 21:55:16'),
('Lorenz','1981-02-24','1968-03-27 18:07:30','2023-04-28 17:33:20'),
('Dillan','1977-04-28','1934-03-07 11:44:28','2017-05-26 15:07:06'),
('Duane','2005-10-15','1992-02-13 03:06:14','2019-04-08 13:39:17'),
('Lina','2014-04-29','2019-09-14 17:34:44','2017-02-05 08:26:21'),
('Margarett','2001-08-02','1960-06-17 06:45:46','2023-03-22 02:25:46'),
('Alessandro','1998-03-20','1999-10-23 00:01:58','2019-02-27 07:07:06'),
('Vergie','1989-12-24','1925-08-13 20:51:49','2016-02-27 03:43:08'),
('Katherine','1991-01-02','1983-12-08 00:05:07','2020-08-04 22:09:49'),
('Freeda','2004-08-05','1953-09-07 02:57:11','2019-11-17 20:49:34'),
('Louvenia','2002-09-04','1987-05-01 07:37:30','2019-05-07 15:17:58'),
('Mckenna','2002-11-23','1931-03-11 00:27:08','2015-02-26 19:05:33'),
('Savanna','2000-08-10','2011-03-01 22:01:23','2021-09-13 10:02:47'),
('Danial','2022-11-23','1954-08-15 02:07:08','2014-11-20 10:17:11'),
('Jeramy','1984-09-27','2010-07-23 10:49:17','2020-03-05 06:00:38'),
('Raymundo','1994-05-06','1992-09-10 17:24:28','2019-09-01 16:18:10'),
('Alec','2018-11-18','2012-04-08 09:37:47','2019-12-15 15:49:59'),
('Audie','1978-03-23','1976-07-11 06:17:20','2023-12-19 09:54:04'),
('Alvina','1970-04-03','1933-06-07 14:57:52','2021-10-08 06:35:37'),
('Jarret','2011-04-26','1924-05-27 09:19:25','2020-03-17 15:20:37'),
('Noble','2011-06-21','1964-10-10 10:37:22','2022-02-10 09:24:07'),
('Lenny','1975-10-16','1951-04-15 00:53:00','2016-08-14 08:29:26'),
('Skylar','2018-09-25','2000-01-27 12:02:51','2019-05-16 11:03:27'),
('Janelle','2017-06-15','1932-09-22 08:56:48','2020-10-27 18:49:48'),
('Marcelino','1981-09-04','1938-12-17 05:58:53','2017-08-22 06:09:05'),
('Macey','1988-05-05','2012-01-29 22:08:07','2024-03-11 13:30:41'),
('Chelsea','2020-11-17','1929-07-16 00:43:35','2016-08-27 17:05:30'),
('Emma','2012-02-16','2023-06-08 17:33:10','2021-09-02 06:26:30'),
('Clifford','1972-04-03','2022-06-19 15:19:28','2023-05-22 10:13:50'),
('Hermina','1977-05-18','1948-02-03 05:31:54','2021-04-13 15:24:18'),
('Frederik','1994-04-17','2000-12-16 23:18:57','2018-12-30 14:25:11'),
('Bruce','2001-12-17','1953-07-13 15:52:18','2019-05-21 15:50:31'),
('Alena','2003-08-13','1934-06-02 10:02:07','2022-03-24 23:26:31'),
('Talia','2022-09-04','1960-11-27 23:07:24','2015-02-27 18:22:26'),
('Triston','1986-08-16','1992-03-29 01:48:09','2019-06-26 05:07:57'),
('Emery','2016-11-06','2008-02-12 15:58:49','2017-11-02 22:19:49'),
('Devante','2020-04-25','2003-03-30 20:07:34','2014-09-22 16:15:50'),
('Josianne','1987-06-12','1973-10-27 07:31:03','2022-01-05 12:27:35'),
('Mariam','2007-12-04','1960-03-03 22:12:11','2024-01-17 12:48:44'),
('Wava','2010-04-23','1969-11-16 21:12:05','2019-03-20 14:24:37'),
('Vicky','2008-08-18','1945-01-14 13:56:59','2020-11-10 23:27:35'),
('Abraham','1992-09-13','1979-12-02 10:12:33','2024-04-04 04:50:48'),
('Alena','2007-07-11','1928-10-20 16:40:13','2019-05-14 08:08:06'),
('Josiane','1976-11-09','1925-02-24 10:14:47','2018-09-15 14:25:07'),
('Caleigh','2004-01-17','2012-09-22 22:36:00','2018-02-15 20:43:51'),
('Gerard','2000-12-22','1990-04-10 10:01:18','2015-07-24 18:10:36'),
('Sydney','1995-06-21','1940-09-20 01:59:33','2019-07-22 15:32:25'),
('Virginie','2006-09-05','1989-09-26 16:36:58','2019-08-06 09:03:21'),
('Fausto','1991-08-26','1991-08-17 05:43:40','2016-04-17 16:29:27'),
('Eva','2022-11-07','2008-01-02 08:20:25','2017-09-15 03:14:01'),
('Justine','1983-08-18','2016-09-12 12:03:35','2020-01-22 23:09:12'),
('Evalyn','2000-02-11','2017-05-29 18:36:53','2016-02-03 00:58:21'),
('Frederique','2005-08-31','2016-03-19 10:55:04','2018-03-02 16:00:01'),
('Eliseo','1970-11-22','1957-05-05 11:35:43','2017-04-24 20:07:56'),
('Moshe','1983-07-14','1961-12-26 13:22:43','2014-10-11 05:33:31'),
('Keagan','1984-03-08','1935-11-26 09:00:39','2015-01-29 10:10:05'),
('Raymundo','2011-01-01','1995-12-17 10:40:00','2019-01-22 00:02:23'),
('Kasandra','2015-01-24','1949-11-29 02:38:20','2019-11-27 00:10:14'),
('Aiden','1995-01-04','1945-07-10 18:25:16','2015-02-19 20:47:08'),
('Malinda','1983-12-28','1934-12-31 04:47:21','2021-01-20 05:53:59'),
('Leann','1991-09-15','2006-09-07 19:09:51','2024-03-10 05:34:27'),
('Jimmie','2011-12-08','1934-12-22 03:04:16','2016-07-24 12:33:36'),
('Solon','2016-09-29','1925-03-25 05:34:51','2020-08-19 20:03:31'),
('Rebeca','1994-05-29','1934-06-17 19:09:11','2024-02-27 15:58:54'),
('Guadalupe','1988-10-01','2002-06-13 04:24:08','2015-02-28 05:45:53'),
('Sally','2000-02-02','2016-05-25 00:28:07','2014-06-12 02:30:19'),
('Brigitte','1975-10-11','1973-10-18 16:58:39','2019-05-01 03:18:04'),
('Hermann','2020-09-25','2003-01-24 07:43:04','2024-01-28 18:00:56'),
('Boyd','2007-08-31','1937-06-22 19:39:37','2019-01-06 18:55:56'),
('Haven','2005-01-02','2018-07-11 16:50:15','2022-07-17 10:22:34'),
('Tremayne','2001-03-08','1983-07-06 22:00:12','2020-11-05 05:06:35'),
('Sabrina','2020-01-17','2023-02-21 01:49:11','2014-12-19 19:22:25'),
('Jefferey','1991-07-28','1937-11-06 13:23:05','2014-10-25 19:30:16'),
('Ricky','2018-10-01','1926-04-27 01:20:58','2015-04-22 06:32:04'),
('Kayley','2020-06-30','2023-09-21 04:33:23','2015-06-05 23:24:56'),
('Jeramy','2011-04-04','1995-01-10 12:55:15','2020-10-19 02:02:51'),
('Favian','1979-12-04','2001-03-22 05:40:57','2022-08-16 00:40:19'),
('Virginie','2020-07-07','1978-10-29 17:37:09','2020-05-06 10:07:04'),
('Kaci','2019-01-24','1940-05-04 20:27:34','2018-03-04 00:07:59'),
('Eliza','2023-09-30','2017-09-04 17:44:21','2022-12-05 12:25:43'),
('Dexter','1992-08-15','1988-05-20 10:02:23','2017-04-03 07:03:03'),
('Brennan','2002-06-24','1976-05-09 15:29:10','2023-03-04 18:24:53'),
('Sadye','2003-08-07','1941-05-22 13:32:28','2015-02-09 21:01:35'),
('Griffin','1984-04-14','1954-02-14 12:10:34','2024-03-22 15:49:55'),
('Evangeline','2008-10-26','1941-10-25 14:52:13','2022-03-30 15:49:38'),
('Julian','2011-09-08','1964-06-05 14:37:59','2017-07-26 22:59:36'),
('Faustino','1988-09-10','1968-06-01 22:16:38','2015-09-16 12:08:09');

INSERT INTO 
	users (name, birthday_at, created_at, updated_at)
SELECT 
	hundred.name, 
	hundred.birthday_at, 
	hundred.created_at, 
	hundred.updated_at
FROM
	users_double AS hundred, users_double AS ten_thousand, users_double AS million;
